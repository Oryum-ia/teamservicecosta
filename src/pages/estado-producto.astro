---
import Layout from '../layouts/Layout.astro';
import HeaderMiro from '../components/HeaderMiro.astro';
import FooterMiro from '../components/FooterMiro.astro';
import WhatsAppButton from '../components/WhatsAppButton.astro';
---

<Layout
  title="Estado de Producto | Team Service Costa S.A.S."
  description="Consulta el estado de tu equipo KÄRCHER en reparación o servicio técnico. Seguimiento en tiempo real de tu orden de servicio."
>
  <HeaderMiro />
  <main class="estado-page">
    <!-- Hero Section -->
    <section class="estado-hero">
      <div class="container">
        <div class="hero-content">
          <div class="hero-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 11l3 3L22 4"></path>
              <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"></path>
            </svg>
          </div>
          <h1>Consulta el Estado de tu Producto</h1>
          <p>Ingresa el ID de tu orden de servicio para ver el estado actual de tu equipo KÄRCHER</p>
        </div>
      </div>
    </section>

    <!-- Search Section -->
    <section class="search-section">
      <div class="container">
        <div class="search-card">
          <div class="search-header">
            <h2>Buscar Orden de Servicio</h2>
            <p>El ID de tu orden se encuentra en el recibo de servicio que recibiste</p>
          </div>

          <form class="search-form" id="search-form">
            <div class="form-group">
              <label for="order-id">ID de Orden</label>
              <div class="input-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="11" cy="11" r="8"></circle>
                  <path d="m21 21-4.35-4.35"></path>
                </svg>
                <input
                  type="text"
                  id="order-id"
                  name="order-id"
                  placeholder="Ej: ORD-2024-0001"
                  required
                  autocomplete="off"
                />
              </div>
            </div>

            <button type="submit" class="btn-search">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
              </svg>
              Buscar Estado
            </button>
          </form>

          <div class="search-tips">
            <h3>¿No encuentras tu ID de orden?</h3>
            <ul>
              <li>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="9 11 12 14 22 4"></polyline>
                  <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                </svg>
                Revisa el recibo o comprobante que recibiste al dejar tu equipo
              </li>
              <li>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                </svg>
                Contáctanos vía WhatsApp con tus datos y te ayudaremos
              </li>
              <li>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                  <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
                Verifica tu correo electrónico, enviamos confirmación al registrar
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Result Section -->
    <section class="result-section" id="result-section" style="display: none;">
      <div class="container">
        <div class="result-card">
          <div class="result-header">
            <div class="order-info">
              <h2>Orden: <span id="result-order-id">ORD-2024-0001</span></h2>
              <span class="status-badge" id="status-badge">En proceso</span>
            </div>
            <button class="btn-new-search" id="new-search-btn">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
              </svg>
              Nueva búsqueda
            </button>
          </div>

          <div class="product-details">
            <h3>Detalles del Producto</h3>
            <div class="details-grid">
              <div class="detail-item">
                <span class="detail-label">Producto:</span>
                <span class="detail-value" id="result-product">Hidrolavadora KÄRCHER K5</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Modelo:</span>
                <span class="detail-value" id="result-model">K5 Premium Full Control</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Fecha de ingreso:</span>
                <span class="detail-value" id="result-date">15 de Enero, 2024</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Ubicación:</span>
                <span class="detail-value" id="result-location">Montería - Córdoba</span>
              </div>
            </div>
          </div>

          <div class="status-timeline">
            <h3>Estado del Servicio</h3>
            <div class="timeline">
              <div class="timeline-item completed">
                <div class="timeline-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="9 11 12 14 22 4"></polyline>
                    <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                  </svg>
                </div>
                <div class="timeline-content">
                  <h4>Recibido</h4>
                  <p>Tu equipo ha sido recibido en nuestras instalaciones</p>
                  <span class="timeline-date">15 Ene, 10:30 AM</span>
                </div>
              </div>

              <div class="timeline-item completed">
                <div class="timeline-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 11l3 3L22 4"></path>
                    <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"></path>
                  </svg>
                </div>
                <div class="timeline-content">
                  <h4>Diagnóstico</h4>
                  <p>Nuestros técnicos han evaluado el equipo</p>
                  <span class="timeline-date">15 Ene, 2:15 PM</span>
                </div>
              </div>

              <div class="timeline-item active">
                <div class="timeline-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
                  </svg>
                </div>
                <div class="timeline-content">
                  <h4>En reparación</h4>
                  <p>El equipo está siendo reparado por nuestros especialistas</p>
                  <span class="timeline-date">En proceso</span>
                </div>
              </div>

              <div class="timeline-item pending">
                <div class="timeline-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                  </svg>
                </div>
                <div class="timeline-content">
                  <h4>Pruebas</h4>
                  <p>Verificación de calidad y funcionamiento</p>
                  <span class="timeline-date">Pendiente</span>
                </div>
              </div>

              <div class="timeline-item pending">
                <div class="timeline-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                    <circle cx="12" cy="10" r="3"></circle>
                  </svg>
                </div>
                <div class="timeline-content">
                  <h4>Listo para entrega</h4>
                  <p>Tu equipo está listo para ser retirado</p>
                  <span class="timeline-date">Pendiente</span>
                </div>
              </div>
            </div>
          </div>

          <div class="contact-section">
            <div class="contact-card">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
              </svg>
              <h4>¿Tienes preguntas sobre tu orden?</h4>
              <p>Contáctanos por WhatsApp y te atenderemos de inmediato</p>
              <a href="https://wa.me/573205085531" target="_blank" class="btn-whatsapp">
                Contactar por WhatsApp
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Error Section -->
    <section class="error-section" id="error-section" style="display: none;">
      <div class="container">
        <div class="error-card">
          <div class="error-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="15" y1="9" x2="9" y2="15"></line>
              <line x1="9" y1="9" x2="15" y2="15"></line>
            </svg>
          </div>
          <h3>Orden no encontrada</h3>
          <p>No pudimos encontrar una orden con el ID <strong id="error-order-id"></strong></p>
          <ul class="error-suggestions">
            <li>Verifica que el ID esté escrito correctamente</li>
            <li>Asegúrate de incluir el prefijo (ORD-)</li>
            <li>Si el problema persiste, contáctanos por WhatsApp</li>
          </ul>
          <button class="btn-try-again" id="try-again-btn">
            Intentar nuevamente
          </button>
        </div>
      </div>
    </section>
  </main>
  <FooterMiro />
  <WhatsAppButton
    phone="+573205085531"
    message="Hola, necesito ayuda para consultar el estado de mi producto"
  />
</Layout>

<style>
  .estado-page {
    min-height: 100vh;
    background: linear-gradient(180deg, #F8FAFC 0%, #FFFFFF 100%);
  }

  /* Hero Section */
  .estado-hero {
    background: linear-gradient(135deg, #0F172A 0%, #1E293B 50%, #334155 100%);
    padding: var(--spacing-24) 0 var(--spacing-16);
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .estado-hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
      radial-gradient(circle at 20% 50%, rgba(255, 208, 47, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(66, 98, 255, 0.15) 0%, transparent 50%);
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 700px;
    margin: 0 auto;
  }

  .hero-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent) 100%);
    border-radius: var(--radius-2xl);
    margin-bottom: var(--spacing-6);
    box-shadow: 0 8px 24px rgba(66, 98, 255, 0.3);
  }

  .hero-icon svg {
    color: var(--color-white);
  }

  .estado-hero h1 {
    font-size: 2.5rem;
    font-weight: var(--font-extrabold);
    color: var(--color-white);
    margin-bottom: var(--spacing-4);
    letter-spacing: -0.02em;
  }

  .estado-hero p {
    font-size: var(--text-lg);
    color: rgba(255, 255, 255, 0.85);
    margin: 0;
  }

  /* Search Section */
  .search-section {
    padding: var(--spacing-16) 0;
  }

  .search-card {
    max-width: 700px;
    margin: 0 auto;
    background: var(--color-white);
    border-radius: var(--radius-2xl);
    padding: var(--spacing-10);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
  }

  .search-header {
    text-align: center;
    margin-bottom: var(--spacing-8);
  }

  .search-header h2 {
    font-size: var(--text-2xl);
    font-weight: var(--font-bold);
    color: var(--color-black);
    margin-bottom: var(--spacing-2);
  }

  .search-header p {
    font-size: var(--text-sm);
    color: var(--color-gray-600);
    margin: 0;
  }

  /* Form */
  .search-form {
    margin-bottom: var(--spacing-8);
  }

  .form-group {
    margin-bottom: var(--spacing-6);
  }

  .form-group label {
    display: block;
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    color: var(--color-gray-700);
    margin-bottom: var(--spacing-2);
  }

  .input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
  }

  .input-wrapper svg {
    position: absolute;
    left: var(--spacing-4);
    color: var(--color-gray-400);
    pointer-events: none;
  }

  .input-wrapper input {
    width: 100%;
    padding: var(--spacing-4) var(--spacing-4) var(--spacing-4) var(--spacing-12);
    border: 2px solid var(--color-gray-300);
    border-radius: var(--radius-lg);
    font-size: var(--text-base);
    font-family: var(--font-primary);
    color: var(--color-black);
    transition: all var(--transition-fast);
  }

  .input-wrapper input:focus {
    outline: none;
    border-color: var(--color-accent);
    box-shadow: 0 0 0 3px rgba(66, 98, 255, 0.1);
  }

  .input-wrapper input::placeholder {
    color: var(--color-gray-400);
  }

  .btn-search {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-2);
    padding: var(--spacing-4);
    background: var(--color-accent);
    color: var(--color-white);
    border: none;
    border-radius: var(--radius-lg);
    font-size: var(--text-base);
    font-weight: var(--font-semibold);
    cursor: pointer;
    transition: all var(--transition-fast);
    font-family: var(--font-primary);
  }

  .btn-search:hover {
    background: var(--color-accent-dark);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(66, 98, 255, 0.4);
  }

  /* Search Tips */
  .search-tips {
    padding: var(--spacing-6);
    background: var(--color-gray-50);
    border-radius: var(--radius-xl);
    border: 1px solid var(--color-gray-200);
  }

  .search-tips h3 {
    font-size: var(--text-base);
    font-weight: var(--font-bold);
    color: var(--color-black);
    margin-bottom: var(--spacing-4);
  }

  .search-tips ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-3);
  }

  .search-tips li {
    display: flex;
    align-items: flex-start;
    gap: var(--spacing-2);
    font-size: var(--text-sm);
    color: var(--color-gray-700);
    line-height: 1.6;
  }

  .search-tips li svg {
    flex-shrink: 0;
    margin-top: 2px;
    color: var(--color-accent);
  }

  /* Result Section */
  .result-section {
    padding: var(--spacing-16) 0;
  }

  .result-card {
    max-width: 900px;
    margin: 0 auto;
    background: var(--color-white);
    border-radius: var(--radius-2xl);
    padding: var(--spacing-10);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
  }

  .result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: var(--spacing-6);
    border-bottom: 2px solid var(--color-gray-200);
    margin-bottom: var(--spacing-8);
  }

  .order-info h2 {
    font-size: var(--text-2xl);
    font-weight: var(--font-bold);
    color: var(--color-black);
    margin-bottom: var(--spacing-2);
  }

  .order-info h2 span {
    color: var(--color-accent);
  }

  .status-badge {
    display: inline-block;
    padding: var(--spacing-1-5) var(--spacing-4);
    background: linear-gradient(135deg, #F59E0B 0%, #F97316 100%);
    color: var(--color-white);
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    border-radius: var(--radius-full);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .btn-new-search {
    display: flex;
    align-items: center;
    gap: var(--spacing-2);
    padding: var(--spacing-2-5) var(--spacing-4);
    background: var(--color-gray-100);
    color: var(--color-gray-700);
    border: none;
    border-radius: var(--radius-lg);
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    cursor: pointer;
    transition: all var(--transition-fast);
    font-family: var(--font-primary);
  }

  .btn-new-search:hover {
    background: var(--color-gray-200);
    transform: translateY(-1px);
  }

  /* Product Details */
  .product-details {
    margin-bottom: var(--spacing-10);
  }

  .product-details h3 {
    font-size: var(--text-xl);
    font-weight: var(--font-bold);
    color: var(--color-black);
    margin-bottom: var(--spacing-4);
  }

  .details-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--spacing-4);
  }

  .detail-item {
    padding: var(--spacing-4);
    background: var(--color-gray-50);
    border-radius: var(--radius-lg);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-1);
  }

  .detail-label {
    font-size: var(--text-xs);
    font-weight: var(--font-semibold);
    color: var(--color-gray-600);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .detail-value {
    font-size: var(--text-base);
    font-weight: var(--font-semibold);
    color: var(--color-black);
  }

  /* Timeline */
  .status-timeline {
    margin-bottom: var(--spacing-10);
  }

  .status-timeline h3 {
    font-size: var(--text-xl);
    font-weight: var(--font-bold);
    color: var(--color-black);
    margin-bottom: var(--spacing-6);
  }

  .timeline {
    position: relative;
    padding-left: var(--spacing-8);
  }

  .timeline::before {
    content: '';
    position: absolute;
    left: 19px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: var(--color-gray-200);
  }

  .timeline-item {
    position: relative;
    padding-bottom: var(--spacing-8);
  }

  .timeline-item:last-child {
    padding-bottom: 0;
  }

  .timeline-icon {
    position: absolute;
    left: -31px;
    top: 0;
    width: 40px;
    height: 40px;
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-gray-200);
    border: 3px solid var(--color-white);
    z-index: 1;
  }

  .timeline-item.completed .timeline-icon {
    background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  }

  .timeline-item.completed .timeline-icon svg {
    color: var(--color-white);
  }

  .timeline-item.active .timeline-icon {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent) 100%);
    animation: pulse-timeline 2s infinite;
  }

  .timeline-item.active .timeline-icon svg {
    color: var(--color-white);
  }

  .timeline-item.pending .timeline-icon svg {
    color: var(--color-gray-400);
  }

  @keyframes pulse-timeline {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(66, 98, 255, 0.7);
    }
    50% {
      box-shadow: 0 0 0 10px rgba(66, 98, 255, 0);
    }
  }

  .timeline-content h4 {
    font-size: var(--text-lg);
    font-weight: var(--font-bold);
    color: var(--color-black);
    margin-bottom: var(--spacing-1);
  }

  .timeline-content p {
    font-size: var(--text-sm);
    color: var(--color-gray-600);
    margin-bottom: var(--spacing-1);
  }

  .timeline-date {
    font-size: var(--text-xs);
    color: var(--color-gray-500);
    font-weight: var(--font-semibold);
  }

  /* Contact Section */
  .contact-card {
    padding: var(--spacing-8);
    background: linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%);
    border-radius: var(--radius-xl);
    text-align: center;
    border: 1px solid #BFDBFE;
  }

  .contact-card svg {
    color: var(--color-accent);
    margin-bottom: var(--spacing-3);
  }

  .contact-card h4 {
    font-size: var(--text-lg);
    font-weight: var(--font-bold);
    color: var(--color-black);
    margin-bottom: var(--spacing-2);
  }

  .contact-card p {
    font-size: var(--text-sm);
    color: var(--color-gray-600);
    margin-bottom: var(--spacing-4);
  }

  .btn-whatsapp {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-2);
    padding: var(--spacing-3) var(--spacing-6);
    background: #25D366;
    color: var(--color-white);
    border-radius: var(--radius-lg);
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    text-decoration: none;
    transition: all var(--transition-fast);
  }

  .btn-whatsapp:hover {
    background: #20BA5A;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
  }

  /* Error Section */
  .error-section {
    padding: var(--spacing-16) 0;
  }

  .error-card {
    max-width: 600px;
    margin: 0 auto;
    background: var(--color-white);
    border-radius: var(--radius-2xl);
    padding: var(--spacing-10);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
    text-align: center;
  }

  .error-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #FEE2E2 0%, #FECACA 100%);
    border-radius: var(--radius-2xl);
    margin-bottom: var(--spacing-6);
  }

  .error-icon svg {
    color: #DC2626;
  }

  .error-card h3 {
    font-size: var(--text-2xl);
    font-weight: var(--font-bold);
    color: var(--color-black);
    margin-bottom: var(--spacing-3);
  }

  .error-card p {
    font-size: var(--text-base);
    color: var(--color-gray-600);
    margin-bottom: var(--spacing-6);
  }

  .error-suggestions {
    list-style: none;
    padding: var(--spacing-6);
    background: var(--color-gray-50);
    border-radius: var(--radius-xl);
    text-align: left;
    margin-bottom: var(--spacing-6);
  }

  .error-suggestions li {
    font-size: var(--text-sm);
    color: var(--color-gray-700);
    padding: var(--spacing-2) 0;
    padding-left: var(--spacing-6);
    position: relative;
  }

  .error-suggestions li::before {
    content: '•';
    position: absolute;
    left: var(--spacing-2);
    color: var(--color-accent);
    font-weight: var(--font-bold);
  }

  .btn-try-again {
    padding: var(--spacing-3) var(--spacing-6);
    background: var(--color-accent);
    color: var(--color-white);
    border: none;
    border-radius: var(--radius-lg);
    font-size: var(--text-base);
    font-weight: var(--font-semibold);
    cursor: pointer;
    transition: all var(--transition-fast);
    font-family: var(--font-primary);
  }

  .btn-try-again:hover {
    background: var(--color-accent-dark);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(66, 98, 255, 0.4);
  }

  /* Responsive */
  @media (max-width: 968px) {
    .estado-hero {
      padding: var(--spacing-16) 0 var(--spacing-12);
    }

    .estado-hero h1 {
      font-size: 2rem;
    }

    .search-card {
      padding: var(--spacing-6);
    }

    .result-card {
      padding: var(--spacing-6);
    }

    .result-header {
      flex-direction: column;
      align-items: flex-start;
      gap: var(--spacing-4);
    }

    .details-grid {
      grid-template-columns: 1fr;
    }

    .timeline {
      padding-left: var(--spacing-6);
    }

    .timeline-icon {
      left: -27px;
      width: 36px;
      height: 36px;
    }
  }

  @media (max-width: 640px) {
    .estado-hero h1 {
      font-size: 1.75rem;
    }

    .hero-icon {
      width: 60px;
      height: 60px;
    }

    .search-card,
    .result-card,
    .error-card {
      padding: var(--spacing-5);
    }
  }
</style>

<script>
  // Simulación de base de datos de órdenes
  const ordersDatabase = {
    'ORD-2024-0001': {
      product: 'Hidrolavadora KÄRCHER K5',
      model: 'K5 Premium Full Control',
      date: '15 de Enero, 2024',
      location: 'Montería - Córdoba',
      status: 'En reparación'
    },
    'ORD-2024-0002': {
      product: 'Aspiradora KÄRCHER WD3',
      model: 'WD3 Premium',
      date: '18 de Enero, 2024',
      location: 'Cartagena - Bolívar',
      status: 'Listo para entrega'
    },
    'ORD-2024-0003': {
      product: 'Hidrolavadora KÄRCHER K7',
      model: 'K7 Premium Full Control Plus',
      date: '20 de Enero, 2024',
      location: 'Apartadó - Antioquia',
      status: 'En diagnóstico'
    }
  };

  const searchForm = document.getElementById('search-form');
  const resultSection = document.getElementById('result-section');
  const errorSection = document.getElementById('error-section');
  const newSearchBtn = document.getElementById('new-search-btn');
  const tryAgainBtn = document.getElementById('try-again-btn');

  // Handle form submission
  searchForm?.addEventListener('submit', (e) => {
    e.preventDefault();

    const orderIdInput = document.getElementById('order-id') as HTMLInputElement;
    const orderId = orderIdInput.value.trim().toUpperCase();

    // Search in database
    const orderData = ordersDatabase[orderId];

    if (orderData) {
      // Show result
      showResult(orderId, orderData);
    } else {
      // Show error
      showError(orderId);
    }
  });

  // Show result
  function showResult(orderId: string, data: any) {
    // Hide search and error sections
    document.querySelector('.search-section')!.style.display = 'none';
    errorSection!.style.display = 'none';

    // Update result data
    document.getElementById('result-order-id')!.textContent = orderId;
    document.getElementById('result-product')!.textContent = data.product;
    document.getElementById('result-model')!.textContent = data.model;
    document.getElementById('result-date')!.textContent = data.date;
    document.getElementById('result-location')!.textContent = data.location;
    document.getElementById('status-badge')!.textContent = data.status;

    // Show result section
    resultSection!.style.display = 'block';

    // Scroll to result
    resultSection?.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }

  // Show error
  function showError(orderId: string) {
    // Hide search and result sections
    document.querySelector('.search-section')!.style.display = 'none';
    resultSection!.style.display = 'none';

    // Update error message
    document.getElementById('error-order-id')!.textContent = orderId;

    // Show error section
    errorSection!.style.display = 'block';

    // Scroll to error
    errorSection?.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }

  // Reset to search
  function resetToSearch() {
    // Show search section
    document.querySelector('.search-section')!.style.display = 'block';

    // Hide result and error sections
    resultSection!.style.display = 'none';
    errorSection!.style.display = 'none';

    // Clear input
    const orderIdInput = document.getElementById('order-id') as HTMLInputElement;
    orderIdInput.value = '';
    orderIdInput.focus();

    // Scroll to search
    document.querySelector('.search-section')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }

  // Event listeners for reset buttons
  newSearchBtn?.addEventListener('click', resetToSearch);
  tryAgainBtn?.addEventListener('click', resetToSearch);
</script>
